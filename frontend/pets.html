<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pet Listings</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<button id="darkModeBtn" class="dark-mode-btn">Toggle Dark Mode</button>

<header>
  <h1>Available Pets üêæ</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="pets.html">Pets</a>
    <a href="adopt.html">Adopt</a>
  </nav>
</header>

<section class="pet-list" id="petList">
  <p style="padding:20px;color:#666">Loading pets...</p>
</section>

<footer>
  <p>¬© 2025 Pet Care</p>
</footer>
<!--
<script>
fetch("http://127.0.0.1:4000/api/products")
  .then(res => res.json())
  .then(data => {
    const box = document.getElementById("petList");
    box.innerHTML = "";

    const pets = data.filter(item => item.type === "pet");

    if (pets.length === 0) {
      box.innerHTML = "No pets available";
      return;
    }

    pets.forEach(pet => {
      const div = document.createElement("div");
      div.className = "pet-card";
      div.innerHTML = `
        <h3>${pet.name}</h3>
        <p>${pet.category || ""}</p>
        <a href="adopt.html">Start Adoption</a>
      `;
      box.appendChild(div);
    });
  })
  .catch(err => {
    console.error(err);
    document.getElementById("petList").innerHTML = "Could not load pets";
  });
</script>
!-->

<script>
const API_BASE = "http://127.0.0.1:4000";

fetch(API_BASE + "/api/products")
  .then(res => res.json())
  .then(data => {
    const box = document.getElementById("petList");
    box.innerHTML = "";

    const pets = data.filter(item => item.type === "pet");

    if (pets.length === 0) {
      box.innerHTML = "No pets available";
      return;
    }

    pets.forEach(pet => {
      const div = document.createElement("div");
      div.className = "pet-card";

      const imgHtml = pet.img
        ? `<img src="${API_BASE}${pet.img}" alt="${pet.name}" style="width:100%;height:180px;object-fit:cover;border-radius:10px;">`
        : `<div style="height:180px;display:flex;align-items:center;justify-content:center;color:#999">No Image</div>`;

      div.innerHTML = `
        ${imgHtml}
        <h3>${pet.name}</h3>
        <p>${pet.category || ""}</p>
        <a href="adopt.html">Start Adoption</a>
      `;

      box.appendChild(div);
    });
  })
  .catch(err => {
    console.error(err);
    document.getElementById("petList").innerHTML = "Could not load pets";
  });
</script>


</body>
</html>
